# Golang

## 资料
- [Go 中文文档](http://docscn.studygolang.com/)
- [Go 中文社区](https://studygolang.com/)

## 安装
官网下载，windows下有msi和zip两种下载格式。直接下载msi可以自动配置环境变量（需要重启所有开启的shell才能生效），使用zip格式要把go/bin目录配置到环境变量中。

## hello world
创建hello.go文件，写入代码:
```
package main

import "fmt"

func main() {
    fmt.Printf("hello, world\n")
}
```
在命令行中运行 go run hello.go

## 语法

### import
- 在被导入的包前面加一个点.就可以省略包名使用其中的public内容。

### function
- 可以返回任意数量的返回值
- 如果不想接收某个返回值，可以用a,_ = funcReturnAB()

### variables
- 作用域类似其他，写在函数内或函数外有不同的作用域；
- :=是简洁赋值语句，可以在类型明确的地方代替var声明。但是只可以在函数级别的作用域上使用这种简洁表达，包级别不可以。
- 函数之外的每个语句都必须用关键词开头（var， func等）
- 声明常量使用const

### type convertion
- 显式指定类型转换，如 myint = int(myfloat), strconv函数等

### loop
- 只有for循环，注意for循环的语法格式。初始化语句和后置语句是可选的。去掉分号也可以当作while循环使用。

### if
- if语句同样不需要小括号。
- if和for语句都可以在条件表达式之前执行一段小语句（从而该语句的变量作用域仅限于这个代码块）
- switch语句不需要break，case的取值也不必为整数

### defer
- defer语句会把函数推迟到外层函数返回之后再执行。但推迟调用的函数其参数会立即求值。
- defer的函数们会被压入栈中，然后逆序被调用。

### pointer
- &操作符生成一个指向其操作数的指针
```
p:=&j 这样创建的p是一个指针类型的变量，p本身的值是指针指向的位置，*p表示指针指向位置对应的值
```
- *操作符表示指针指向的底层值

### struct
- golang中的类是结构体。初始化的格式为大括号填写参数。使用点号.来访问结构体中的成员变量。
```
student := Student{"name", "10021"}
```

### array & slice
- var arr \[2]string 表示有2个值的string类型数组。数组的长度是它类型的一部分（所以\[2]和string是连写的），因此数组不能改变大小。因此使用的时候很不灵活，要用slice切片的形式。
- var slc []string 表示一个string类型的切片。切片不存储内容，在底层是通过数组来存储的。切片中的元素通过指定上下界来确定，这是一个左开右闭的区间:a\[low:high]。
- 切片不存储元素，但是描述了底层数组中的一段，它指向底层数组，所以对切片中元素的改变会导致底层数组中元素的改变，同样会导致其他共享该底层数组的切片中元素的改变。
- 切片有长度和容量两个属性。长度是切片中存储的元素个数；容量是该切片最大可能的长度（源自切片对应的底层数组的大小。例如底层数组长度为6，切片从第2个元素，那么切片的容量是4.如果达到容量后还对切片进行append操作，那么切片对应的底层数组会扩容（一定长度内每次翻倍扩容）。
- arr:=make([]int, 5) 创建一个长度为5的切片（值为0）。使用make函数会自动创建一个对应的底层数组。
- for循环的range形式可以遍历切片。

### goroutine
- 通过go关键字来新建线程
